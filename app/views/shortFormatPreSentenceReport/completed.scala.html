@import data._
@import helper._

@(message: String, pdfBase64: String)

@main("Short Format Pre Sentence Report", false) {

  <iframe frameborder="0" width="100%" height="450px"></iframe>

  <input class="button" type="submit" value="Finished"/>

  <script>
    $(function() {

      $('input').click(function() {
        parent.postMessage('@message', '*');
      });

      var pdfBytes = Uint8Array.from(atob('@pdfBase64'), function(c) { return c.charCodeAt(0); });

      var pdfBlob = new Blob([pdfBytes], { type: 'application/pdf' });
      var pdfUrl = URL.createObjectURL(pdfBlob);

      $('iframe').attr('src', pdfUrl);

    });
    </script>
}
